(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[870],{3546:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l=a(7876),r=a(4232),s=a(9099);function n(e){let{children:t}=e,a=(0,s.useRouter)(),[n,i]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{i(!0)},[]),!n)return null;let o=a.pathname;return"/admin/login"===o?(0,l.jsx)(l.Fragment,{children:t}):(0,l.jsxs)("div",{className:"min-h-screen bg-dark",children:[(0,l.jsx)("nav",{className:"bg-dark-light border-b border-neon-purple/20 px-4 py-3",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,l.jsx)("div",{className:"flex items-center space-x-4",children:[{path:"/admin",label:"Ana Sayfa"},{path:"/admin/add-score",label:"Skor Ekle"},{path:"/admin/scoreboard",label:"Skor Tablosu"}].map(e=>(0,l.jsx)("button",{onClick:()=>a.push(e.path),className:"px-4 py-2 rounded-lg transition-colors ".concat(o===e.path?"bg-neon-purple text-white":"text-gray-300 hover:bg-dark-light/50"),children:e.label},e.path))}),(0,l.jsx)("button",{onClick:()=>{localStorage.removeItem("adminToken"),a.push("/admin/login")},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"\xc7ıkış Yap"})]})}),(0,l.jsx)("main",{className:"p-4",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto",children:t})})]})}},5077:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(7876),r=a(4232),s=a(9099),n=a(3546);function i(){let[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)(!0),[o,c]=(0,r.useState)(""),[d,h]=(0,r.useState)(!1),x=(0,s.useRouter)();(0,r.useEffect)(()=>{if(!localStorage.getItem("adminToken"))return void x.push("/admin/login");m()},[]);let m=async()=>{try{let e=await fetch("/api/scores");if(e.ok){let a=await e.json();t(a),c("")}else{let t=await e.json();c(t.error||"Skorlar y\xfcklenirken bir hata oluştu")}}catch(e){c("Bir hata oluştu")}finally{i(!1)}},u=async e=>{if(!d&&confirm("Bu skoru silmek istediğinizden emin misiniz?")){h(!0);try{let t=await fetch("/api/scores?username=".concat(encodeURIComponent(e)),{method:"DELETE",headers:{"x-api-key":localStorage.getItem("adminToken")||""}});if(t.ok)c(""),await m();else{let e=await t.json();c(e.error||"Skor silinirken bir hata oluştu")}}catch(e){c("Bir hata oluştu")}finally{h(!1)}}};return a?(0,l.jsx)(n.A,{children:(0,l.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,l.jsx)("div",{className:"text-neon-purple text-xl",children:"Y\xfckleniyor..."})})}):(0,l.jsx)(n.A,{children:(0,l.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,l.jsxs)("div",{className:"bg-dark-light rounded-xl p-6 shadow-neon shadow-neon-purple",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-neon-purple mb-6",children:"Skor Tablosu"}),o&&(0,l.jsx)("div",{className:"bg-red-500 bg-opacity-20 text-red-500 p-4 rounded-lg mb-4",children:o}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"border-b border-neon-purple/20",children:[(0,l.jsx)("th",{className:"text-left p-4 text-neon-purple",children:"Kullanıcı Adı"}),(0,l.jsx)("th",{className:"text-left p-4 text-neon-purple",children:"Skor"}),(0,l.jsx)("th",{className:"text-left p-4 text-neon-purple",children:"Tarih"}),(0,l.jsx)("th",{className:"text-left p-4 text-neon-purple",children:"İşlemler"})]})}),(0,l.jsxs)("tbody",{children:[e.map(e=>(0,l.jsxs)("tr",{className:"border-b border-neon-purple/10 hover:bg-dark-light/50",children:[(0,l.jsx)("td",{className:"p-4 text-white",children:e.username}),(0,l.jsx)("td",{className:"p-4 text-white",children:e.score}),(0,l.jsx)("td",{className:"p-4 text-white",children:new Date(e.createdAt).toLocaleDateString("tr-TR")}),(0,l.jsx)("td",{className:"p-4",children:(0,l.jsx)("button",{onClick:()=>u(e.username),disabled:d,className:"text-red-500 hover:text-red-400 transition-colors ".concat(d?"opacity-50 cursor-not-allowed":""),children:d?"Siliniyor...":"Sil"})})]},e.id)),0===e.length&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:4,className:"text-center p-4 text-gray-400",children:"Hen\xfcz hi\xe7 skor kaydedilmemiş."})})]})]})})]})})})}},5900:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/scoreboard",function(){return a(5077)}])},9099:(e,t,a)=>{e.exports=a(8253)}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(5900)),_N_E=e.O()}]);