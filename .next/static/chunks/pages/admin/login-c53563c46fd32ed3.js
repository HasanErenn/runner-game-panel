(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[567],{644:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/login",function(){return s(3938)}])},3938:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var n=s(7876),a=s(4232),r=s(9099);function i(){let[e,t]=(0,a.useState)(""),[s,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[d,p]=(0,a.useState)(!0),m=(0,r.useRouter)();if((0,a.useEffect)(()=>{(async()=>{localStorage.getItem("adminToken")&&m.push("/admin"),p(!1)})()},[]),d)return null;let h=async()=>{try{console.log("Attempting login with:",{username:e}),l("Giriş yapılıyor..."),u("");let t=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:s})}),n=await t.json();console.log("Login response status:",t.status),console.log("Login response data:",n),t.ok?(localStorage.setItem("adminToken",n.token),l("Giriş başarılı! Y\xf6nlendiriliyorsunuz..."),u("success"),setTimeout(()=>{m.push("/admin")},500)):(l(n.message||"Ge\xe7ersiz e-posta veya şifre!"),u("error"))}catch(e){console.error("Login error:",e),l("Bir hata oluştu. L\xfctfen tekrar deneyin."),u("error")}},g=e=>{"Enter"===e.key&&h()};return(0,n.jsx)("div",{className:"min-h-screen w-full flex items-center justify-center bg-dark p-4",children:(0,n.jsxs)("div",{className:"form-container",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-center mb-8 text-neon-purple",children:"Y\xf6netici Girişi"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),onKeyPress:g,placeholder:"E-posta",className:"input-field",autoFocus:!0}),(0,n.jsx)("input",{type:"password",value:s,onChange:e=>i(e.target.value),onKeyPress:g,placeholder:"Şifre",className:"input-field"}),(0,n.jsx)("button",{onClick:h,className:"btn-primary w-full py-2 px-4 rounded",disabled:!e||!s,children:"Giriş Yap"}),o&&(0,n.jsx)("p",{className:"text-center mt-4 ".concat("success"===c?"text-neon-green":"error"===c?"text-red-500":"text-gray-400"),children:o})]})]})})}},9099:(e,t,s)=>{e.exports=s(8253)}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(644)),_N_E=e.O()}]);